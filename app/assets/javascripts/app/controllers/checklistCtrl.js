// Generated by CoffeeScript 1.9.1
(function() {
  'use strict';
  app.controller('checklistListCtrl', [
    '$scope', 'checklists', function($scope, checklists) {
      return $scope.checklists = checklists.data;
    }
  ]);

  app.controller('checklistShowCtrl', [
    '$scope', '$stateParams', 'ItemService', 'checklist', 'checklist_items', function($scope, $stateParams, ItemService, checklist, checklist_items) {
      $scope.checklist = checklist.data;
      $scope.checklist_items = checklist_items.data;
      $scope.formItemDescription = '';
      return $scope.formItemSubmit = function() {
        var $promise, formParams;
        formParams = {
          description: $scope.formItemDescription.trim(),
          checklist_id: $scope.checklist[0].id
        };
        if (!$scope.formItemDescription) {
          return;
        }
        $promise = ItemService.save($stateParams.checklist_id, formParams);
        return $promise.success(function(data, status) {
          $scope.checklist_items.unshift(data);
          return $scope.formItemDescription = null;
        });
      };
    }
  ]);

}).call(this);
